{"version":3,"sources":["mobx/PlayerStore.js","components/playerMusicImage/PlayerMusicImage.jsx","components/playerControls/PlayerControls.jsx","components/playerInfo/PlayerInfo.jsx","components/playerVolume/PlayerVolume.jsx","components/player/Player.jsx","components/loading/Loading.jsx","components/trackItem/TrackItem.jsx","graphql/tracks/mutation.js","components/formInput/FormInput.jsx","components/uploadForm/UploadForm.jsx","components/uploadModal/UploadModal.jsx","graphql/tracks/query.js","components/errorBlock/ErorrBlock.jsx","components/playlist/Playlist.jsx","utils/Apollo.js","App.js","index.js","components/trackItem/TrackItem.module.css","components/playlist/Playlist.module.css","components/playerInfo/PlayerInfo.module.css","components/uploadModal/UploadModal.module.css","components/uploadForm/UploadForm.module.css","components/playerControls/PlayerControls.module.css","components/player/Player.module.css","components/playerVolume/PlayerVolume.module.css","components/loading/Loading.module.css","components/playerMusicImage/PlayerMusicImage.module.css","components/formInput/FormInput.module.css","components/errorBlock/ErrorBlock.module.css"],"names":["PlayerStore","tracks","currentTrack","playing","isLoading","volume","currentTime","duration","url","process","makeAutoObservable","this","autoBind","value","data","track","play","setPlaying","newTrack","push","currentIndex","indexOf","setCurrentTrack","length","nextTrack","PlayerMusicImage","className","styles","box","style","fontSize","icon","faMusic","color","PlayerControls","toggleAudio","prevTrack","wrapper","musicImage","onClick","faPauseCircle","faPlayCircle","rewindControls","faStepBackward","faStepForward","calcTime","seconds","minutes","Math","floor","secs","m","s","PlayerInfo","handleProgress","info","infoInnerBox","title","author","progressBar","type","onChange","round","PlayerVolume","volumeState","handleVolume","e","audio","Audio","canChangeTime","Player","observer","setCurrentTime","setDuration","setVolume","handleEnd","useEffect","src","ontimeupdate","onloadeddata","onended","a","paused","console","log","pause","player","event","timeCompute","target","volumeCompute","Loading","loadingWrapper","loading","TrackItem","index","isCurrentTrack","id","active","trackBox","innerBox","text","ADD_TRACK","gql","FormInput","memo","inputState","setInputState","label","htmlFor","required","input","UploadForm","setModal","addToTracks","useState","file","setFile","setTitle","setAuthor","useMutation","addTrack","handleFileChange","files","selectedFile","includes","alert","onSubmitUpload","preventDefault","variables","uploadTitle","action","onSubmit","accept","btn","UploadModal","modal","stopPropagation","inner","GET_ALL_TRACKS","ErorrBlock","Playlist","setTracks","useQuery","onCompleted","getAllTracks","error","notLoadedWrapper","playlist","buttonFlex","tracksBlock","map","uriPath","uploadLink","createUploadLink","uri","client","ApolloClient","link","cache","InMemoryCache","App","ApolloProvider","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.7917425e.chunk.js","sourcesContent":["import { makeAutoObservable } from 'mobx'\r\n\r\nclass PlayerStore {\r\n  tracks = []\r\n  currentTrack = null\r\n  playing = false\r\n  isLoading = true\r\n  volume = 1\r\n  currentTime = 0\r\n  duration = 0\r\n  url = `${process.env.REACT_APP_SERVER_URL}/graphql`\r\n\r\n  constructor() {\r\n    makeAutoObservable(this, {}, { autoBind: true })\r\n  }\r\n\r\n  setDuration(value) {\r\n    this.duration = value\r\n  }\r\n\r\n  setCurrentTime(value) {\r\n    this.currentTime = value\r\n  }\r\n\r\n  setVolume(value) {\r\n    this.volume = value\r\n  }\r\n\r\n  setLoading(value) {\r\n    this.isLoading = value\r\n  }\r\n\r\n  setTracks(data) {\r\n    this.tracks = data\r\n  }\r\n\r\n  setPlaying(value) {\r\n    this.playing = value\r\n  }\r\n\r\n  setCurrentTrack(track, play = true) {\r\n    this.currentTrack = track\r\n    this.setPlaying(play)\r\n  }\r\n\r\n  addToTracks(newTrack) {\r\n    this.tracks.push(newTrack)\r\n  }\r\n\r\n  prevTrack() {\r\n    const currentIndex = this.tracks.indexOf(this.currentTrack)\r\n    currentIndex === 0\r\n      ? this.setCurrentTrack(this.tracks[this.tracks.length - 1])\r\n      : this.setCurrentTrack(this.tracks[currentIndex - 1])\r\n  }\r\n\r\n  nextTrack() {\r\n    const currentIndex = this.tracks.indexOf(this.currentTrack)\r\n    currentIndex === this.tracks.length - 1\r\n      ? this.setCurrentTrack(this.tracks[0])\r\n      : this.setCurrentTrack(this.tracks[currentIndex + 1])\r\n  }\r\n\r\n  handleEnd() {\r\n    this.nextTrack()\r\n  }\r\n}\r\n\r\nexport default new PlayerStore()\r\n","import { faMusic } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport styles from './PlayerMusicImage.module.css'\r\n\r\nconst PlayerMusicImage = () => {\r\n  return (\r\n    <div className={styles.box}>\r\n      <FontAwesomeIcon style={{ fontSize: '1.7rem' }} icon={faMusic} color=\"black\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerMusicImage\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport styles from './PlayerControls.module.css'\r\nimport {\r\n  faPlayCircle,\r\n  faStepBackward,\r\n  faStepForward,\r\n  faPauseCircle,\r\n} from '@fortawesome/free-solid-svg-icons'\r\nimport PlayerMusicImage from '../playerMusicImage/PlayerMusicImage'\r\n\r\nconst PlayerControls = ({ toggleAudio, nextTrack, prevTrack, playing }) => {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.musicImage}>\r\n        <PlayerMusicImage />\r\n      </div>\r\n      <FontAwesomeIcon\r\n        className=\"clickable\"\r\n        onClick={toggleAudio}\r\n        style={{ fontSize: '2.5rem' }}\r\n        icon={playing ? faPauseCircle : faPlayCircle}\r\n        color=\"black\"\r\n      />\r\n      <div className={styles.rewindControls}>\r\n        <FontAwesomeIcon\r\n          className=\"clickable\"\r\n          style={{ fontSize: '1.5rem' }}\r\n          icon={faStepBackward}\r\n          color=\"black\"\r\n          onClick={prevTrack}\r\n        />\r\n        <FontAwesomeIcon\r\n          className=\"clickable\"\r\n          style={{ fontSize: '1.5rem' }}\r\n          icon={faStepForward}\r\n          color=\"black\"\r\n          onClick={nextTrack}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerControls\r\n","import styles from './PlayerInfo.module.css'\r\n\r\nconst calcTime = (seconds) => {\r\n  const minutes = Math.floor(seconds / 60)\r\n  const secs = Math.floor(seconds % 60)\r\n  const m = minutes < 10 ? `0${minutes}` : `${minutes}`\r\n  const s = secs < 10 ? `0${secs}` : `${secs}`\r\n  return `${m}:${s}`\r\n}\r\n\r\nconst PlayerInfo = ({ track, duration, currentTime, handleProgress }) => {\r\n  return (\r\n    <div className={styles.info}>\r\n      <div className={styles.infoInnerBox}>\r\n        <h2 className={styles.title}>{track?.title}</h2>\r\n        <p>{calcTime(duration)}</p>\r\n      </div>\r\n      <div className={styles.infoInnerBox}>\r\n        <h3 className={styles.title}>{track?.author}</h3>\r\n        <p>{calcTime(currentTime)}</p>\r\n      </div>\r\n      <input\r\n        className={styles.progressBar}\r\n        type=\"range\"\r\n        onChange={handleProgress}\r\n        value={duration ? Math.round((currentTime * 100) / duration) : 0}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerInfo\r\n","import styles from './PlayerVolume.module.css'\r\n\r\nconst PlayerVolume = ({ volumeState, handleVolume }) => {\r\n  return (\r\n    <div className={styles.box}>\r\n      <p className={styles.title}>Volume: {Math.round(volumeState * 100)}%</p>\r\n      <input\r\n        className=\"clickable\"\r\n        type=\"range\"\r\n        value={Math.round(volumeState * 100)}\r\n        onChange={(e) => handleVolume(e)}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerVolume\r\n","import { useEffect } from 'react'\r\nimport styles from './Player.module.css'\r\nimport { observer } from 'mobx-react-lite'\r\nimport PlayerStore from '../../mobx/PlayerStore'\r\nimport PlayerControls from '../playerControls/PlayerControls'\r\nimport PlayerInfo from '../playerInfo/PlayerInfo'\r\nimport PlayerVolume from '../playerVolume/PlayerVolume'\r\nimport PlayerMusicImage from '../playerMusicImage/PlayerMusicImage'\r\n\r\nlet audio = new Audio()\r\nlet canChangeTime = true\r\n\r\nconst Player = observer(() => {\r\n  const {\r\n    currentTime,\r\n    duration,\r\n    volume,\r\n    playing,\r\n    currentTrack,\r\n    nextTrack,\r\n    prevTrack,\r\n    setCurrentTime,\r\n    setDuration,\r\n    setVolume,\r\n    setPlaying,\r\n    handleEnd,\r\n  } = PlayerStore\r\n\r\n  useEffect(() => {\r\n    if (currentTrack) {\r\n      audio.src = currentTrack.src\r\n      audio.ontimeupdate = () => setCurrentTime(audio.currentTime)\r\n      audio.onloadeddata = () => {\r\n        canChangeTime = true\r\n        setDuration(audio.duration)\r\n      }\r\n      audio.onended = () => {\r\n        canChangeTime = false\r\n        handleEnd()\r\n      }\r\n      toggleAudio()\r\n    }\r\n  }, [currentTrack])\r\n\r\n  const toggleAudio = async () => {\r\n    if (audio.paused) {\r\n      setPlaying(true)\r\n      try {\r\n        await audio.play()\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    } else {\r\n      setPlaying(false)\r\n      audio.pause()\r\n    }\r\n  }\r\n\r\n  const handleProgress = (event) => {\r\n    if (canChangeTime) {\r\n      const timeCompute = (event.target.value * duration) / 100\r\n      audio.currentTime = timeCompute\r\n      setCurrentTime(timeCompute)\r\n    }\r\n  }\r\n\r\n  const handleVolume = (event) => {\r\n    const volumeCompute = event.target.value / 100\r\n    setVolume(volumeCompute)\r\n    audio.volume = volumeCompute\r\n  }\r\n\r\n  if (!currentTrack) return null\r\n\r\n  return (\r\n    <div className={styles.player}>\r\n      <>\r\n        <PlayerControls\r\n          toggleAudio={toggleAudio}\r\n          nextTrack={nextTrack}\r\n          prevTrack={prevTrack}\r\n          playing={playing}\r\n        />\r\n        <div className={styles.musicImage}>\r\n          <PlayerMusicImage />\r\n        </div>\r\n        <PlayerInfo\r\n          track={currentTrack}\r\n          duration={duration}\r\n          currentTime={currentTime}\r\n          handleProgress={handleProgress}\r\n        />\r\n        <PlayerVolume volumeState={volume} handleVolume={handleVolume} />\r\n      </>\r\n    </div>\r\n  )\r\n})\r\n\r\n/* <FontAwesomeIcon\r\n        className='clickable'\r\n        style={random ? { fontSize: '2.5rem' } : { fontSize: '2rem' }}\r\n        color={random ? 'purple' : 'black'}\r\n        icon={faRandom}\r\n        onClick={toggleRandom}\r\n      />\r\n      <FontAwesomeIcon\r\n        className='clickable'\r\n        style={repeat ? { fontSize: '2.2rem' } : { fontSize: '1.7rem' }}\r\n        color={repeat ? 'purple' : 'black'}\r\n        icon={faRedo}\r\n        onClick={toggleRepeat}\r\n      /> */\r\n\r\nexport default Player\r\n","import styles from './Loading.module.css'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={styles.loadingWrapper}>\r\n      <div className={styles.loading} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import { observer } from 'mobx-react-lite'\r\nimport PlayerStore from '../../mobx/PlayerStore'\r\nimport styles from './TrackItem.module.css'\r\n\r\nconst TrackItem = observer(({ track, index }) => {\r\n  const { tracks, setCurrentTrack, currentTrack } = PlayerStore\r\n  let isCurrentTrack = false\r\n  currentTrack && (isCurrentTrack = tracks[index].id === currentTrack.id)\r\n  return (\r\n    <button\r\n      className={isCurrentTrack ? `${styles.track} ${styles.active}` : styles.track}\r\n      onClick={() => !isCurrentTrack && setCurrentTrack(track)}\r\n    >\r\n      <div className={styles.trackBox} />\r\n      <div className={styles.info}>\r\n        <div className={styles.innerBox}>\r\n          <h2 className={styles.text}>{track.title}</h2>\r\n        </div>\r\n        <div className={styles.innerBox}>\r\n          <h3 className={styles.text}>{track.author}</h3>\r\n        </div>\r\n      </div>\r\n    </button>\r\n  )\r\n})\r\n\r\nexport default TrackItem\r\n","import { gql } from '@apollo/client'\r\n\r\nexport const ADD_TRACK = gql`\r\n  mutation addTrack($title: String!, $author: String!, $file: Upload!) {\r\n    addTrack(title: $title, author: $author, file: $file) {\r\n      src\r\n      author\r\n      title\r\n      id\r\n    }\r\n  }\r\n`\r\n","import { memo } from 'react'\r\nimport styles from './FormInput.module.css'\r\n\r\nconst FormInput = memo(function ({ inputState, setInputState, label, id }) {\r\n  return (\r\n    <>\r\n      <label htmlFor={id}>\r\n        <h3>{label}</h3>\r\n      </label>\r\n      <input\r\n        id={id}\r\n        required\r\n        className={styles.input}\r\n        value={inputState}\r\n        onChange={(event) => setInputState(event.target.value)}\r\n        type=\"text\"\r\n      />\r\n    </>\r\n  )\r\n})\r\n\r\nexport default FormInput\r\n","import { useState } from 'react'\r\nimport { useMutation } from '@apollo/client'\r\nimport styles from './UploadForm.module.css'\r\nimport Loading from '../loading/Loading'\r\nimport { ADD_TRACK } from '../../graphql/tracks/mutation'\r\nimport PlayerStore from '../../mobx/PlayerStore'\r\nimport FormInput from '../formInput/FormInput'\r\n\r\nconst UploadForm = function ({ setModal }) {\r\n  const { addToTracks } = PlayerStore\r\n  const [file, setFile] = useState(null)\r\n  const [title, setTitle] = useState('')\r\n  const [author, setAuthor] = useState('')\r\n  const [addTrack, { loading }] = useMutation(ADD_TRACK)\r\n\r\n  const handleFileChange = async (event) => {\r\n    const selectedFile = await event.target.files[0]\r\n    if (selectedFile.type.includes('audio/')) {\r\n      setFile(selectedFile)\r\n    } else {\r\n      alert('выберите audio/mpeg файл')\r\n    }\r\n  }\r\n\r\n  const onSubmitUpload = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      const {\r\n        data: { addTrack: newTrack },\r\n      } = await addTrack({ variables: { title: title, author: author, file: file } })\r\n      addToTracks(newTrack)\r\n      setModal(false)\r\n      setAuthor('')\r\n      setTitle('')\r\n    } catch (error) {\r\n      alert('Failed to upload track to server')\r\n      console.log('upload failed: ', error)\r\n    }\r\n  }\r\n\r\n  if (loading)\r\n    return (\r\n      <div>\r\n        <Loading />\r\n        <p className={styles.uploadTitle}>Uploading track. Please wait.</p>\r\n      </div>\r\n    )\r\n\r\n  return (\r\n    <form action=\"\" onSubmit={onSubmitUpload}>\r\n      <h1 className={styles.title}>Upload Track</h1>\r\n      <FormInput inputState={author} setInputState={setAuthor} id=\"author\" label=\"Author\" />\r\n      <FormInput inputState={title} setInputState={setTitle} id=\"title\" label=\"Title\" />\r\n      <label htmlFor=\"file\">\r\n        <h1 className={styles.uploadTitle}>Upload audio File</h1>\r\n      </label>\r\n      <input required id=\"file\" type=\"file\" accept=\"audio/*\" onChange={handleFileChange} />\r\n      <button className={styles.btn} type=\"submit\">\r\n        UPLOAD TRACK\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UploadForm\r\n","import { memo } from 'react'\r\nimport styles from './UploadModal.module.css'\r\nimport UploadForm from '../uploadForm/UploadForm'\r\n\r\nconst UploadModal = memo(function ({ modal, setModal }) {\r\n  return (\r\n    <div\r\n      onClick={() => setModal(!modal)}\r\n      className={modal ? `${styles.wrapper} ${styles.active}` : styles.wrapper}\r\n    >\r\n      <div onClick={(event) => event.stopPropagation()} className={styles.inner}>\r\n        <UploadForm setModal={setModal} />\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default UploadModal\r\n","import { gql } from '@apollo/client'\r\n\r\nexport const GET_ALL_TRACKS = gql`\r\n  query GetAllTracks {\r\n    getAllTracks {\r\n      id\r\n      title\r\n      author\r\n      src\r\n    }\r\n  }\r\n`\r\n","import React from 'react'\r\nimport styles from './ErrorBlock.module.css'\r\n\r\nconst ErorrBlock = () => {\r\n  return (\r\n    <div>\r\n      <p className={styles.title}>Connection Error</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErorrBlock\r\n","import { useState } from 'react'\r\nimport Loading from '../loading/Loading'\r\nimport TrackItem from '../trackItem/TrackItem'\r\nimport styles from './Playlist.module.css'\r\nimport PlayerStore from '../../mobx/PlayerStore'\r\nimport { observer } from 'mobx-react-lite'\r\nimport UploadModal from '../uploadModal/UploadModal'\r\nimport { useQuery } from '@apollo/client'\r\nimport { GET_ALL_TRACKS } from '../../graphql/tracks/query'\r\nimport ErorrBlock from '../errorBlock/ErorrBlock'\r\n\r\nconst Playlist = observer(() => {\r\n  const { setTracks, tracks } = PlayerStore\r\n  const { loading, error } = useQuery(GET_ALL_TRACKS, {\r\n    onCompleted: ({ getAllTracks }) => {\r\n      setTracks(getAllTracks)\r\n    },\r\n  })\r\n\r\n  const [modal, setModal] = useState(false)\r\n\r\n  if (error)\r\n    return (\r\n      <div className={styles.notLoadedWrapper}>\r\n        <ErorrBlock />\r\n      </div>\r\n    )\r\n\r\n  if (loading)\r\n    return (\r\n      <div className={styles.notLoadedWrapper}>\r\n        <Loading />\r\n      </div>\r\n    )\r\n\r\n  return (\r\n    <section className={styles.playlist}>\r\n      <div className={styles.buttonFlex}>\r\n        <h1 className={styles.title}>{`Playlist: ${tracks.length}`}</h1>\r\n        <button onClick={() => setModal(!modal)} className={styles.btn}>\r\n          Add new track\r\n        </button>\r\n      </div>\r\n      <ul className={styles.tracksBlock}>\r\n        {tracks.map((track, index) => {\r\n          return (\r\n            <li key={track.id}>\r\n              <TrackItem track={track} index={index} />\r\n            </li>\r\n          )\r\n        })}\r\n      </ul>\r\n      <UploadModal modal={modal} setModal={setModal} />\r\n    </section>\r\n  )\r\n})\r\n\r\nexport default Playlist\r\n","import { ApolloClient, InMemoryCache } from '@apollo/client'\r\nimport { createUploadLink } from 'apollo-upload-client'\r\n\r\nconst uriPath = `${process.env.REACT_APP_SERVER_URL}/graphql`\r\nconst uploadLink = createUploadLink({ uri: uriPath })\r\n\r\nconst client = new ApolloClient({\r\n  link: uploadLink,\r\n  cache: new InMemoryCache(),\r\n})\r\n\r\nexport default client\r\n","import './globalStyles.css'\nimport './defaultStyles.css'\nimport Player from './components/player/Player'\nimport Playlist from './components/playlist/Playlist'\nimport client from './utils/Apollo'\nimport { ApolloProvider } from '@apollo/client'\n\nconst App = () => {\n  return (\n    <ApolloProvider client={client}>\n      <div className=\"container\">\n        <Player />\n        <Playlist />\n      </div>\n    </ApolloProvider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"track\":\"TrackItem_track__1FyQV\",\"info\":\"TrackItem_info__2JbXp\",\"innerBox\":\"TrackItem_innerBox__3vbsZ\",\"text\":\"TrackItem_text__4G18P\",\"active\":\"TrackItem_active__N_Pac\",\"trackBox\":\"TrackItem_trackBox__32aAP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playlist\":\"Playlist_playlist__W8_YI\",\"notLoadedWrapper\":\"Playlist_notLoadedWrapper__1ulOs\",\"title\":\"Playlist_title__35xpX\",\"buttonFlex\":\"Playlist_buttonFlex__3HBih\",\"btn\":\"Playlist_btn__3H3G6\",\"tracksBlock\":\"Playlist_tracksBlock__2h1D0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoInnerBox\":\"PlayerInfo_infoInnerBox__ZoIcs\",\"title\":\"PlayerInfo_title__2Um7m\",\"progressBar\":\"PlayerInfo_progressBar__2pcLC\",\"info\":\"PlayerInfo_info__1_ZR_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UploadModal_wrapper__3yRYf\",\"active\":\"UploadModal_active__36Haq\",\"inner\":\"UploadModal_inner__3Kp__\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"UploadForm_title__3TYAS\",\"btn\":\"UploadForm_btn__2j8Wb\",\"uploadTitle\":\"UploadForm_uploadTitle__TUpZY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"PlayerControls_wrapper__1B9_M\",\"rewindControls\":\"PlayerControls_rewindControls__-arGp\",\"musicImage\":\"PlayerControls_musicImage__25dQk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"Player_player__3VJ35\",\"musicImage\":\"Player_musicImage__1w-aM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"PlayerVolume_box__ztdcc\",\"title\":\"PlayerVolume_title__1wp3r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingWrapper\":\"Loading_loadingWrapper__2Lhoj\",\"loading\":\"Loading_loading__-v3sh\",\"load\":\"Loading_load__1ige4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"PlayerMusicImage_box__1uK4L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"FormInput_input__Owuwx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ErrorBlock_title__1a4YX\"};"],"sourceRoot":""}